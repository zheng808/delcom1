function _007ecf89aa5644f458383f1aed2896ad242b7ef1(){};var highlightAnim=new Ext.Anim({type:"highlight",before:function(b){var a="#aaccaa";var c=b.getStyle("background-color")?b.getStyle("background-color"):"#ffffff";this.from={"background-color":a};this.to={"background-color":c}}});barcode_default_handler=function(b,a){if(!current_employee){Ext.Msg.alert("Error","Must Log In before Scanning");return}Ext.Ajax.request({url:"/touch.php/rest/part",method:"GET",params:{code:b,symbid:a},callback:function(d,g,c){if(g){data=Ext.decode(c.responseText);if(data&&data.success&&data.parts.length>0){if(data.parts&&data.parts.length==1){var e=Ext.ComponentQuery.query("#mainnav")[0];if(e.getActiveItem().xtype=="partadd"){var f=Ext.ComponentQuery.query("partadd partfield")[0];f.setValue(data.parts[0].part_variant_id);Ext.Anim.run(f,highlightAnim,{duration:1500})}else{Ext.Msg.confirm("Part Found","Found Part: <strong>"+data.parts[0].name+"</strong><br /><br />Do you want to add it to a workorder?",function(h){if(h=="yes"){e.push(Ext.create("Delta.view.part.Add",{defaultPart:data.parts[0].part_variant_id}));Ext.defer(function(){Ext.Anim.run(Ext.ComponentQuery.query("partadd partfield")[0],highlightAnim,{duration:1500})},500)}})}}else{Ext.Msg.alert("Mulitple Parts Found","Error: matched multiple parts!")}}else{if(barcodeListener.misshandleroverride){barcodeListener.misshandleroverride(data,b,a)}}}}})};if(window.addEventListener){window.addEventListener("load",function(){barcodeListener.handleroverride=barcode_default_handler;barcodeListener.misshandleroverride=function(c,b,a){Ext.Msg.alert("Not Found","Scanned Barcode Not Found!")}},false)}else{if(window.attachEvent){window.attachEvent("onload",function(){barcodeListener.handleroverride=barcode_default_handler;barcodeListener.misshandleroverride=function(c,b,a){Ext.Msg.alert("Not Found","Scanned Barcode Not Found!")}})}};