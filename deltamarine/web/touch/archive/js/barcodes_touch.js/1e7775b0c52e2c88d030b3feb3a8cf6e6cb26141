/*1e7775b0c52e2c88d030b3feb3a8cf6e6cb26141*/barcode_default_handler=function(b,a){if(!current_employee){Ext.Msg.alert("Error","Must Log In before Scanning");return}Ext.Ajax.request({url:"/touch.php/rest/part",method:"GET",params:{code:b,symbid:a},callback:function(e,h,c){if(h){data=Ext.decode(c.responseText);if(data&&data.success&&data.parts.length>0){if(data.parts&&data.parts.length==1){var f=Ext.ComponentQuery.query("#mainnav")[0];if(f.getActiveItem().xtype=="partadd"){var g=Ext.ComponentQuery.query("partadd partfield")[0];g.setValue(data.parts[0].part_variant_id);var d=new Ext.Anim({type:"highlight",before:function(j){var i="#aaccaa";var k=j.getStyle("background-color")?j.getStyle("background-color"):"#ffffff";this.from={"background-color":i};this.to={"background-color":k}}});Ext.Anim.run(g,d,{duration:1500})}else{Ext.Msg.confirm("Part Found","Found Part: <strong>"+data.parts[0].name+"</strong><br /><br />Do you want to add it to a workorder?",function(i){if(i=="yes"){f.push(Ext.create("Delta.view.part.Add",{defaultPart:data.parts[0].part_variant_id}));Ext.defer(function(){Ext.Anim.run(Ext.ComponentQuery.query("partadd partfield")[0],d,{duration:1500})},500)}})}}else{Ext.Msg.alert("Mulitple Parts Found","Error: matched multiple parts!")}}else{if(barcodeListener.misshandleroverride){barcodeListener.misshandleroverride(data,b,a)}}}}})};if(window.addEventListener){window.addEventListener("load",function(){barcodeListener.handleroverride=barcode_default_handler;barcodeListener.misshandleroverride=function(c,b,a){Ext.Msg.alert("Not Found","Scanned Barcode Not Found!")}},false)}else{if(window.attachEvent){window.attachEvent("onload",function(){barcodeListener.handleroverride=barcode_default_handler;barcodeListener.misshandleroverride=function(c,b,a){Ext.Msg.alert("Not Found","Scanned Barcode Not Found!")}})}};